{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-71c444c9\"],{\"820e\":function(e,t,c){\"use strict\";var n=c(\"23e7\"),a=c(\"c65b\"),o=c(\"59ed\"),r=c(\"f069\"),u=c(\"e667\"),l=c(\"2266\");n({target:\"Promise\",stat:!0},{allSettled:function(e){var t=this,c=r.f(t),n=c.resolve,i=c.reject,s=u((function(){var c=o(t.resolve),r=[],u=0,i=1;l(e,(function(e){var o=u++,l=!1;i++,a(c,t,e).then((function(e){l||(l=!0,r[o]={status:\"fulfilled\",value:e},--i||n(r))}),(function(e){l||(l=!0,r[o]={status:\"rejected\",reason:e},--i||n(r))}))})),--i||n(r)}));return s.error&&i(s.value),c.promise}})},a607:function(e,t,c){},af2c:function(e,t,c){\"use strict\";c(\"a607\")},dd92:function(e,t,c){\"use strict\";c.d(t,\"a\",(function(){return a}));var n=c(\"e423\"),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"driver\",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n[\"a\"].get(\"/metrics?category=\".concat(e),{params:t})}},ef4c:function(e,t,c){\"use strict\";c.r(t);c(\"a9e3\"),c(\"d3b7\"),c(\"820e\"),c(\"3ca3\"),c(\"ddb0\"),c(\"d81d\"),c(\"ac1f\"),c(\"466d\"),c(\"1276\"),c(\"b680\");var n=c(\"7a23\"),a=c(\"3fd4\"),o=c(\"6a4f\"),r=c(\"dd92\"),u=(c(\"4ec9\"),c(\"99af\"),c(\"5a0c\"),c(\"55b6\")),l=function(e,t){var c=new Map([[\"day\",u[\"default\"].global.t(\"common.day\",t)],[\"hour\",u[\"default\"].global.t(\"common.hour\",t)],[\"minute\",u[\"default\"].global.t(\"common.minute\",t)],[\"second\",u[\"default\"].global.t(\"common.second\",t)]]);return c.get(e)||\"\"},i=function(e){if(!e)return\"0 \".concat(u[\"default\"].global.t(\"common.second\",0));var t=\"\";if(e<60)t=\"\".concat(e,\" \").concat(l(\"second\",e));else if(e>=60&&e<3600){var c=Math.floor(e/60),n=Math.floor(e%60);t=\"\".concat(c,\" \").concat(l(\"minute\",c),\" \").concat(n,\" \").concat(l(\"second\",e))}else{var a=Math.floor(e/3600),o=Math.floor(Math.floor(e%3600)/60),r=Math.floor(Math.floor(e%3600)%60),i=l(\"minute\",o),s=l(\"second\",r);if(a>0&&a<24)t=\"\".concat(a,\" \").concat(l(\"hour\",a),\" \").concat(o,\" \").concat(i,\" \").concat(r,\" \").concat(s);else{var d=Math.floor(a/24),m=a-24*d;t=\"\".concat(d,\" \").concat(l(\"day\",d),\" \").concat(m,\" \").concat(l(\"hour\",m),\" \").concat(o,\" \").concat(i,\" \").concat(r,\" \").concat(s)}}return t},s=c(\"73ec\"),d=c(\"eb58\"),m=c(\"a007\"),b={class:\"card-hd-with-btn\"},f={class:\"card-title\"},j={class:\"progress-text\"},O=Object(n[\"defineComponent\"])({setup:function(e){Object(n[\"useCssVars\"])((function(e){return{\"05aa0e46\":Object(n[\"unref\"])(y)}}));var t,c=Object(d[\"a\"])(),u=c.currentLang,l=Object(n[\"ref\"])(!1),O=Object(n[\"ref\"])({version:\"\",build_date:\"\"}),v=Object(n[\"ref\"])(\"\"),h=Object(n[\"reactive\"])({systemRunningTime:\"\",systemStatus:\"\",memPercent:0,memTotalBytes:\"\",memUsedBytes:\"\",startupTimeMatchReg:/(uptime_seconds=?)(\\s*\\d*)(?=\\n)/g,debugFilesMatchReg:/(core_dumped=?)(\\s*\\d*)(?=\\n)/g,memTotalBytesReg:/(mem_total_bytes=?)(\\s*\\d*)(?=\\n)/g,memUsedBytesReg:/(mem_used_bytes=?)(\\s*\\d*)(?=\\n)/g}),g=Object(n[\"computed\"])((function(){return i(Number(h.systemRunningTime))})),p=Object(n[\"computed\"])((function(){return\"0\"===h.systemStatus?\"common.normal\":\"common.exceptions\"})),y=Object(n[\"computed\"])((function(){return\"zh\"===u.value?\"90px\":\"120px\"}));Promise&&!Promise.allSettled&&(Promise.allSettled=function(e){return Promise.all(e.map((function(e){return e.then((function(e){return{state:\"fulfilled\",value:e}})).catch((function(e){return{state:\"rejected\",reason:e}}))})))});var w=function(){return new Promise((function(e,t){Object(r[\"a\"])(m[\"c\"].GLOBAL).then((function(t){var c=t.data,n=c.match(h.startupTimeMatchReg),a=c.match(h.debugFilesMatchReg),o=c.match(h.memUsedBytesReg),r=c.match(h.memTotalBytesReg);h.systemRunningTime=n?n[0].split(\" \")[1]:\"\",h.systemStatus=a?a[0].split(\" \")[1]:\"\";var u=Number(o?o[0].split(\" \")[1]:\"0\"),l=Number(r?r[0].split(\" \")[1]:\"0\");h.memPercent=Number(u&&l?(u/l*100).toFixed(2):\"0\"),h.memUsedBytes=Object(s[\"h\"])(u,\"Byte\"),h.memTotalBytes=Object(s[\"h\"])(l,\"Byte\"),x(),e(t)})).catch((function(e){t(e)}))}))},x=function(){t&&window.clearInterval(t),t=window.setInterval((function(){w()}),5e3)},N=function(){try{l.value=!0,Promise.allSettled([Object(o[\"d\"])(),Object(o[\"b\"])(),w()]).then((function(e){var t,c,n=(null===(t=e[0])||void 0===t?void 0:t.value)||{version:\"\",build_date:\"\"},a=n.data,o=(null===(c=e[1])||void 0===c?void 0:c.value)||{},r=o.data;O.value=a,v.value=(null===r||void 0===r?void 0:r.token)||\"\"})).finally((function(){l.value=!1}))}catch(e){console.log(\"error\",e)}};return N(),Object(n[\"onUnmounted\"])((function(){t&&window.clearInterval(t)})),function(e,t){var c=Object(n[\"resolveComponent\"])(\"emqx-descriptions-item\"),o=Object(n[\"resolveComponent\"])(\"emqx-descriptions\"),r=Object(n[\"resolveComponent\"])(\"emqx-card\"),u=Object(n[\"resolveDirective\"])(\"emqx-loading\");return Object(n[\"withDirectives\"])((Object(n[\"openBlock\"])(),Object(n[\"createBlock\"])(r,{class:\"about\"},{default:Object(n[\"withCtx\"])((function(){return[Object(n[\"createElementVNode\"])(\"div\",b,[Object(n[\"createElementVNode\"])(\"h3\",f,Object(n[\"toDisplayString\"])(e.$t(\"common.system\")),1)]),Object(n[\"createElementVNode\"])(\"div\",null,[Object(n[\"createVNode\"])(o,{column:1},{default:Object(n[\"withCtx\"])((function(){return[Object(n[\"createVNode\"])(c,{label:e.$t(\"admin.version\")},{default:Object(n[\"withCtx\"])((function(){return[Object(n[\"createTextVNode\"])(Object(n[\"toDisplayString\"])(O.value.version),1)]})),_:1},8,[\"label\"]),Object(n[\"createVNode\"])(c,{label:e.$t(\"admin.systemStatus\")},{default:Object(n[\"withCtx\"])((function(){return[Object(n[\"createTextVNode\"])(Object(n[\"toDisplayString\"])(e.$t(\"\".concat(Object(n[\"unref\"])(p)))),1)]})),_:1},8,[\"label\"]),Object(n[\"createVNode\"])(c,{label:e.$t(\"admin.systemRunningTime\")},{default:Object(n[\"withCtx\"])((function(){return[Object(n[\"createTextVNode\"])(Object(n[\"toDisplayString\"])(Object(n[\"unref\"])(g)),1)]})),_:1},8,[\"label\"]),Object(n[\"createVNode\"])(c,{label:e.$t(\"admin.memoryUsage\")},{default:Object(n[\"withCtx\"])((function(){return[Object(n[\"createVNode\"])(Object(n[\"unref\"])(a[\"ElProgress\"]),{\"stroke-width\":14,percentage:Object(n[\"unref\"])(h).memPercent,status:\"success\",class:\"progress-bar\"},{default:Object(n[\"withCtx\"])((function(){return[Object(n[\"createElementVNode\"])(\"span\",j,Object(n[\"toDisplayString\"])(Object(n[\"unref\"])(h).memUsedBytes)+\" / \"+Object(n[\"toDisplayString\"])(Object(n[\"unref\"])(h).memTotalBytes),1)]})),_:1},8,[\"percentage\"])]})),_:1},8,[\"label\"]),Object(n[\"createVNode\"])(c,{label:e.$t(\"admin.hwToken\")},{default:Object(n[\"withCtx\"])((function(){return[Object(n[\"createTextVNode\"])(Object(n[\"toDisplayString\"])(v.value),1)]})),_:1},8,[\"label\"]),Object(n[\"createVNode\"])(c,{label:e.$t(\"admin.builtDate\")},{default:Object(n[\"withCtx\"])((function(){return[Object(n[\"createTextVNode\"])(Object(n[\"toDisplayString\"])(O.value.build_date),1)]})),_:1},8,[\"label\"])]})),_:1})])]})),_:1},512)),[[u,l.value]])}}}),v=(c(\"af2c\"),c(\"6b0d\")),h=c.n(v);const g=h()(O,[[\"__scopeId\",\"data-v-4af8feee\"]]);t[\"default\"]=g}}]);","extractedComments":[]}